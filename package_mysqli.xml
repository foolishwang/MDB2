<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE package SYSTEM "http://pear.php.net/dtd/package-1.0">
<package version="1.0" packagerversion="1.4.10">
 <name>MDB2_Driver_mysqli</name>
 <summary>mysqli MDB2 driver</summary>
 <description>This is the MySQLi MDB2 driver.
 </description>
 <maintainers>
  <maintainer>
   <user>lsmith</user>
   <name>Lukas Kahwe Smith</name>
   <email>smith@pooteeweet.org</email>
   <role>lead</role>
  </maintainer>
  </maintainers>
 <release>
  <version>1.2.0</version>
  <date>2006-07-22</date>
  <license>BSD License</license>
  <state>stable</state>
  <notes>- added ability to escape wildcard characters in escape() and quote()
- added setTransactionIsolation()
- added savepoint support to beginTransaction(), commit() and rollback()
- added debug() call at the end of a query/prepare/execute calling (Request #7933)
- added context array parameter to debug() and make use of it whereever sensible
- added optional method name parameter to raiseError() and use whereever possible
- added ability to escape wildcard characters in escape() and quote()
- added debug() call at the end of a query/prepare/execute calling (Request #7933)
- added &apos;nativetype&apos; output to tableInfo() and getTableFieldDefinition()
- added &apos;mdb2type&apos; output to getTableFieldDefinition()
- reworked tableInfo() to use a common implementation based on getTableFieldDefinition()
  when a table name is passed (Bug #8124)
- fixed incorrect regex in mapNativeDatatype() (Bug #8256) (thx ioz at ionosfera dot com)

- use old dsn when rolling back open transactions in disconnect()
  </notes>
  <deps>
   <dep type="php" rel="ge" version="5.0.0" optional="no"/>
   <dep type="pkg" rel="ge" version="1.0b1" optional="no">PEAR</dep>
   <dep type="pkg" rel="ge" version="2.2.0" optional="no">MDB2</dep>
   <dep type="ext" rel="has" optional="no">mysqli</dep>
  </deps>
  <filelist>
   <dir name="MDB2" baseinstalldir="/">
    <dir name="Driver">
     <dir name="Datatype">
      <file role="php" name="mysqli.php">
       <replace type="package-info" from="@package_version@" to="version"/>
      </file>
     </dir> <!-- /MDB2/Driver/Datatype -->
     <dir name="Function">
      <file role="php" name="mysqli.php">
       <replace type="package-info" from="@package_version@" to="version"/>
      </file>
     </dir> <!-- /MDB2/Driver/Function -->
     <dir name="Manager">
      <file role="php" name="mysqli.php">
       <replace type="package-info" from="@package_version@" to="version"/>
      </file>
     </dir> <!-- /MDB2/Driver/Manager -->
     <dir name="Native">
      <file role="php" name="mysqli.php">
       <replace type="package-info" from="@package_version@" to="version"/>
      </file>
     </dir> <!-- /MDB2/Driver/Native -->
     <dir name="Reverse">
      <file role="php" name="mysqli.php">
       <replace type="package-info" from="@package_version@" to="version"/>
      </file>
     </dir> <!-- /MDB2/Driver/Reverse -->
     <file role="php" name="mysqli.php">
      <replace type="package-info" from="@package_version@" to="version"/>
     </file>
    </dir> <!-- /MDB2/Driver -->
   </dir> <!-- /MDB2 -->
  </filelist>
 </release>
 <changelog>
   <release>
    <version>1.2.0</version>
    <date>2006-07-22</date>
    <license>BSD License</license>
    <state>stable</state>
    <notes>- added ability to escape wildcard characters in escape() and quote()
- added setTransactionIsolation()
- added savepoint support to beginTransaction(), commit() and rollback()
- added debug() call at the end of a query/prepare/execute calling (Request #7933)
- added context array parameter to debug() and make use of it whereever sensible
- added optional method name parameter to raiseError() and use whereever possible
- added ability to escape wildcard characters in escape() and quote()
- added debug() call at the end of a query/prepare/execute calling (Request #7933)
- added &apos;nativetype&apos; output to tableInfo() and getTableFieldDefinition()
- added &apos;mdb2type&apos; output to getTableFieldDefinition()
- reworked tableInfo() to use a common implementation based on getTableFieldDefinition()
  when a table name is passed (Bug #8124)
- fixed incorrect regex in mapNativeDatatype() (Bug #8256) (thx ioz at ionosfera dot com)

- use old dsn when rolling back open transactions in disconnect()
    </notes>
   </release>
   <release>
    <version>1.1.0</version>
    <date>2006-06-15</date>
    <license>BSD License</license>
    <state>stable</state>
    <notes>- tweaked handling of free() for prepared statements
- return error if a prepared statement is attempted to be freed twice
- removed use of addslashes() for BLOB quoting
  (this might result in SQL injection vulnerability)
- added setCharset()
- use setCharset() in connect()/_doConnect()
- set transaction enabled engine as default
- generalized quoteIdentifier() with a property
- use general implementation of quoteIdentifier() (Bug #7738)
- fixed warning in replace() if type is not set (Bug #7740)
- cosmetic performance tweak in getTableFieldDefinition()
- switched most array_key_exists() calls to !empty() to improve readability and performance
- fixed a few edge cases and potential warnings
- added ability to rewrite queries for query(), exec() and prepare() using a debug handler callback
- pass limit and offset to the result object constructor in _execute() for read statements
- check if result/connection has not yet been freed/dicsonnected before
  attempting to free a result set(Bug #7790)
- fixed unbuffered query support
- revert change that would prefer &apos;clob&apos; over &apos;text&apos; for TEXT fields
  (this was breaking runtime instrospection)
    </notes>
   </release>
   <release>
    <version>1.0.3</version>
    <date>2006-05-22</date>
    <license>BSD License</license>
    <state>stable</state>
    <notes>- fixed unsigned handling and minor tweaks to type mapping in mapNativeDatatype()
- use emulated prepared statements on mysql 4.0 or lower
- added &quot;emulate_prepared&quot; option to force prepared statement emulation
    </notes>
   </release>
   <release>
    <version>1.0.2</version>
    <date>2006-05-14</date>
    <license>BSD License</license>
    <state>stable</state>
    <notes>- optimized listTables() and listViews()
- optimized show related queries
- merged in some features and fixes from the mysql driver
- explicitly set is_manip parameter to false for transaction debug calls
- pass parameter array as debug() all with scope &quot;parameters&quot; in every execute()
  call (bug #4119)
- silently change name of primary key contraints to PRIMARY
- added ability to hint that a constraint is a primary key in dropConstraint()
- typo fixes in phpdoc (thx Stoyan)
- added support for fixed and variable types for &apos;text&apos; in declarations,
  as well as in reverse engineering (Request #1523)
- made _doQuery() return a reference
- added userinfo&apos;s to all raiseError calls that previously had none
- use native prepared queries for prepared SELECT statements
- only use native prepared queries of mysql 4.1 or higher
- added &apos;prepared_statements&apos; supported meta data setting
- fixed issue with free() returning void
- added missing supported parameter to prepare() signature
    </notes>
   </release>
   <release>
    <version>1.0.1</version>
    <date>2006-04-16</date>
    <license>BSD License</license>
    <state>stable</state>
    <notes>- fixed length handling in tableInfo() (bug #6887)
- aligned _modifyQuery() signature and phpdoc
- added support for tabe options in createTable() (bug ##7079)
- added optional database parameter to listTables() and listSequences()
- added &apos;result_introspection&apos; supported metadata support
- properly quote table names in tableInfo() (related to bug #6573)
- use connected_server_info in getServerVersion() as a cache cache
- use parent::disconnect() in disconnect()
- added support for length in integer reverse engineering
- some fixes regarding boolean reverse engineering
- added listViews() and hide views in listTables()

open todo item:
- use native prepared queries for prepared SELECT statements
    </notes>
   </release>
   <release>
    <version>1.0.0</version>
    <date>2006-02-09</date>
    <license>BSD License</license>
    <state>stable</state>
    <notes>- handle null as resource when disable_query option is enabled in result object

open todo item:
- use native prepared queries for prepared SELECT statements
    </notes>
   </release>
   <release>
    <version>0.2.4</version>
    <date>2006-02-05</date>
    <license>BSD License</license>
    <state>beta</state>
    <notes>- typo fix in getTableConstraintDefinition() (bug #6487)
- added support for length in integer and decimal columns
- removed ugly hack for quote parameter in quote() since it was insufficient
  (escaping also needs to be prevented)
- added support for out of order parameter binding in prepared queries
- reset row_limit and row_offset after calling prepare() just like we do for query() and exec()
- cosmetic fix (removed &quot;row_&quot; prefix from &quot;row_limit&quot; and &quot;row_offset&quot;)
- now using TINYINT(1) by default instead of CHAR(1) for the boolean datatype (BC BREAK!)
- typo fix in error message in createTable()
- improved parsing in getServerInfo() (bug #6550)
- fixed subselect emulation
- support an arbitrary number of arguments in concat()

open todo item:
- use native prepared queries for prepared SELECT statements
    </notes>
   </release>
   <release>
    <version>0.2.3</version>
    <date>2006-01-13</date>
    <license>BSD License</license>
    <state>beta</state>
    <notes>- explicitly pass if the module is phptype specific in all loadModule calls (bug #6226)
- properly handle PRIMARY keys in listTableConstraints()
- apply _isIndexName() on non primary keys in getTableConstraintDefinition()
- initial implementation of multi_query option (bug #6418)
- added error handling in prepare()
- use multi_query option in executeStoredProc() (bug #6418)
- fixed signature of quoteIdentifier() to make second param optional
- fixed signature of executeStoredProc()
- typo fixes in error handling of nextResult() and numRows() calls
- added @ in front of a few more mysqli calls
- _fixIndexName() now just attempts to remove possible formatting
- renamed _isSequenceName() to _fixSequenceName()
- _fixSequenceName() now just attempts to remove possible formatting, and only
  returns a boolean if no formatting was applied when the new &quot;check&quot; parameter is set to true

open todo item:
- use native prepared queries for prepared SELECT statements
    </notes>
   </release>
   <release>
    <version>0.2.2</version>
    <date>2005-12-30</date>
    <license>BSD License</license>
    <state>beta</state>
    <notes>- moved state to beta
- fixed typo in sub select detection

open todo item:
- use native prepared queries for prepared SELECT statements
    </notes>
   </release>
   <release>
    <version>0.2.1</version>
    <date>2005-12-28</date>
    <license>BSD License</license>
    <state>alpha</state>
    <notes>- use emulated prepared queries for non manip prepared queries
- proper quote new table name in alterTable()

open todo item:
- use native prepared queries for prepared SELECT statements
    </notes>
   </release>
   <release>
    <version>0.2.0</version>
    <date>2005-12-21</date>
    <license>BSD License</license>
    <state>alpha</state>
    <notes>- do not fix case in listUsers()
- unified case fixing in the list*() methods
- fixed change and rename in alterTable()
- primary key must be called primary
- use getConnection() to access connection property
- split index and constraint handling
- quote identifiers where possible inside the manager methods depending on
  the new &apos;quote_identifier&apos; option (defaults to off)
- refactored get*Declaration() methods to use getTypeDeclaration()
- setting in_transaction to false on disconnect
- hide constraints from indexes and vice versa in the list methods
- added new Function modules to handle difference in SQL functions
- force rollback() with open transactions on disconnect
- fixed table renaming
- escape floats to make sure they do not contain evil characters (bug #5608)
- do not check with === if ssl is enabled
- fixed LOB handling
- support column length in create index (mysql only feature, but a nice touch,
  emulating it with substring is not feasible though)
- split off manipulation queries into exec() method from the query() method *BC BREAK*
- if result_types is set to false in prepare() method the query will be handled as a DML statement *BC BREAK*
- use a proper default value if a field is set to not null in _getDeclaration*() (bug #5930)
- added ability to determine unsigned in mapNativeDatatype()
  (only really implemented in the mysql(i) drivers) (bug #6054)
- use MDB2_ERROR_NOT_FOUND in getTableConstraintDefinition() and getTableIndexDefinition() (bug #6055)
- use lastInsertID() method in nextID()
- added getServerVersion() and use it to determine sub select support
- unified array structure in mapNativeDatatype() *BC BREAK*
- added &apos;mdbtype&apos; to tableInfo() output that is generated from mapNativeDatatype()
- changed &apos;len&apos; to &apos;length&apos; in tableInfo() output *BC BREAK*
    </notes>
   </release>
   <release>
    <version>0.1.1</version>
    <date>2005-10-10</date>
    <license>BSD License</license>
    <state>alpha</state>
    <notes>Warning: this release features numerous BC breaks!

There have been considerable improvements to the datatype, manager and reverse
modules. Furthermore preliminary support for auto increment and primary keys
has been added. Please note that making a field auto increment implies a single
column primary key on this field.

- added support for auto increment and primary key in schema.
- alterTable now needs the full definition to work (use getTableFieldDefinition
 from Reverse module if you do not have a definition at hand) this eliminates the need
 of the declaration part in the alterTable array.
- removed support for dummy_primary_key
- fix PHP4.4 breakage
- moved getInsertID() into core as lastInsertID()
- all non LOB values were quoted twice in execute()
- clobs only need to be mapped to binary when using mysqli_stmt_send_long_data()
  which is handled independently
- use !empty() instead of isset() in fetchRow to determine if result cols were bound or result types were set
- expect keys in type arrays the same way as they are passed for the values in execute() and bindParamArray()
- add s pattern modifier to preg_replace() call for parameter searches in prepare() (bug #5362)
- moved all private fetch mode fix methods into _fixResultArrayValues() for performance reasons
- renamed MDB2_PORTABILITY_LOWERCASE to MDB2_PORTABILITY_FIX_CASE and use &apos;field_case&apos; option to determine if to upper- or lowercase (CASE_LOWER/CASE_UPPER)
- count() -&gt; !empty() where possible
- use array_map() instead of array_flip(array_change_key_case(array_flip())) to fix case of array values
- use array_key_exists() instead of isset() where possible
- changed structure of field add/remove/change in alterTable() to match MDB2_Schema
- removed subSelect() implementation (now in already included in common)
- return 0 for manipulation queries when disable_query is enabled
- tweaked getTableFieldDefinition() in reverse module

open todo items:
- fixed LOB support
    </notes>
   </release>
 </changelog>
</package>
